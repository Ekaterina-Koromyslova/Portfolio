## Linux Monitoring

Учебный проект по bash-скриптингу и исследованию Linux-системы, выполненный в рамках практики системного администрирования.

В проекте реализован набор скриптов, которые:

- собирают и анализируют информацию о системе (ОС, сеть, ресурсы, аптайм);

- визуализируют вывод с использованием цветовых схем;

- поддерживают конфигурацию через внешний файл;

- выполняют глубокий анализ файловой системы (размеры, типы файлов, права, хэши);

- корректно обрабатывают пользовательский ввод и ошибки.

**Ключевые навыки и технологии**

- Bash / Shell scripting

- Linux (Ubuntu Server)

- Работа с find, du, awk, sed, grep, xargs

- Анализ файловых систем и прав доступа

- Форматирование и визуализация CLI-вывода

- Декомпозиция скриптов и модульная структура

- Работа с аргументами, конфигурациями и временем выполнения


### 01 Валидация текста

В рамках задания надо было реализовать bash-скрипт, который:

- запускается с одним входным параметром;

- принимает текстовое значение и выводит его в стандартный вывод;

- выполняет валидацию входных данных:

- если переданный параметр является числом, скрипт корректно обрабатывает ошибку и выводит сообщение о некорректном вводе;

Задание послужило основой для дальнейших частей проекта, где использовались более сложные конструкции bash-скриптов и системные утилиты.

### 02 Скрипт мониторинга системы

Написать скрипт который будет выводить информауцию в следующем виде:

- **HOSTNAME** = сетевое имя
- **TIMEZONE** = временная зона в виде: America/New_York UTC -5 (временная зона, должна браться из системы и быть корректной для текущего местоположения)
- **USER** = текущий пользователь, который запустил скрипт
- **OS** = тип и версия операционной системы
- **DATE** = текущее время в виде: 12 May 2020 12:24:36
- **UPTIME** = время работы системы
- **UPTIME_SEC** = время работы системы в секундах
- **IP** = ip-адрес машины в любом из сетевых интерфейсов
- **MASK** = сетевая маска любого из сетевых интерфейсов в виде: xxx.xxx.xxx.xxx
- **GATEWAY** = ip шлюза по умолчанию
- **RAM_TOTAL** = размер оперативной памяти в Гб c точностью три знака после запятой в виде: 3.125 GB
- **RAM_USED** = размер используемой памяти в Гб c точностью три знака после запятой
- **RAM_FREE** = размер свободной памяти в Гб c точностью три знака после запятой
- **SPACE_ROOT** = размер рутового раздела в Mб с точностью два знака после запятой в виде: 254.25 MB
- **SPACE_ROOT_USED** = размер занятого пространства рутового раздела в Mб с точностью два знака после запятой
- **SPACE_ROOT_FREE** = размер свободного пространства рутового раздела в Mб с точностью два знака после запятой

Также после вывода скрипта должен выводиться вопрос о том записать вывод в файл (название в формате DD_MM_YY_HH_MM_SS.status) или нет. Y/y считается "да", остальное "нет".

### 03 Визуальное оформление скрипта из 2го задания

Надо было убрать часть с сохранением в файл и добавить цветной вывод в терминал. Цветной вывод должен быть следующим:
- Запускаться с 4 числовыми параметрами. Например `script03.sh 1 2 3 4`. Цифры могут быть от 1 до 6
- Обозначения цветов
	- 1 = white
	- 2 = red
	- 3 = green
	- 4 = blue
	- 5 = purle
	- 6 = black
- Параметры
	- 1 = фон названий значений (HOSTNAME, TIMEZONE, USER и т. д.)
	- 2 =  цвет шрифта названий значений (HOSTNAME, TIMEZONE, USER и т. д.).
	- 3 = фон значений (после знака '=').
	- 4 =  это цвет шрифта значений (после знака '=').

- Цвета шрифта и фона не должны совпадать. При ситуации совпадения выводить сообщение, описывающее проблему и предложение повторно вызвать скрипт


### 04 Использование файла конфигурации

Взять за основу скрипт из 3го задания и написать для него файл конфигурации вида
```
Column 1 background = 2 (red)
Column 1 font color = 4 (blue)
Column 2 background = 5 (purple)
Column 2 font color = 1 (white)
```

Также надо предусмотреть кофигурацию по умолчанию

### 05 Скрипт для анализа директорий и файлов

Написать скрипт который будет принимать путь/к/директории/ и выводить следующую информацию:

- Общее число папок, включая вложенные;
- Топ-5 папок с самым большим весом в порядке убывания (путь и размер);
- Общее число файлов;
- Число конфигурационных файлов (с расширением .conf), текстовых файлов, исполняемых файлов, логов (файлов с расширением .log), архивов, символических ссылок;
- Топ-10 файлов с самым большим весом в порядке убывания (путь, размер и тип);
- Топ-10 исполняемых файлов с самым большим весом в порядке убывания (путь, размер и хеш);
- Время выполнения скрипта.

Пример ожидаемого вывода
```
Total number of folders (including all nested ones) = 6  
TOP 5 folders of maximum size arranged in descending order (path and size):  
1 - /var/log/one/, 100 GB  
2 - /var/log/two/, 100 MB  
etc up to 5
Total number of files = 30
Number of:  
Configuration files (with the .conf extension) = 1 
Text files = 10  
Executable files = 5
Log files (with the extension .log) = 2  
Archive files = 3  
Symbolic links = 4  
TOP 10 files of maximum size arranged in descending order (path, size and type):  
1 - /var/log/one/one.exe, 10 GB, exe  
2 - /var/log/two/two.log, 10 MB, log  
etc up to 10  
TOP 10 executable files of the maximum size arranged in descending order (path, size and MD5 hash of file):  
1 - /var/log/one/one.exe, 10 GB, 3abb17b66815bc7946cefe727737d295  
2 - /var/log/two/two.exe, 9 MB, 53c8fdfcbb60cf8e1a1ee90601cc8fe2  
etc up to 10  
Script execution time (in seconds) = 1.5
```