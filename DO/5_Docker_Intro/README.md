## Описание проекта  

Проект посвящён изучению основ **Docker** и разработке собственного контейнерного окружения. В процессе работы были выполнены следующие задачи:  

- Ознакомление с готовыми контейнерами на примере **nginx**  
- Управление образами и контейнерами: запуск, остановка, экспорт, импорт  
- Настройка конфигурации **nginx** для отображения статуса сервера  
- Разработка мини веб-сервера на **C** с использованием **FastCGI**  
- Создание собственного Docker-образа для веб-сервера  
- Проверка контейнера на безопасность с помощью **Dockle**  
- Создание и настройка файла **docker-compose.yml** для запуска нескольких сервисов  

Проект охватывает ключевые аспекты контейнеризации: от работы с готовыми образами и базовой настройки контейнеров до разработки собственного веб-сервера и его развёртывания с помощью **Docker Compose**.  

## Задания

### Part 1. Готовый докер

- C помощью команды `docker pull` скачать официальный докер-образ с ngxinx
- С помощью команды `docker images` проверить наличие докер образа
- С помощью команды `docker run -d[image_id|repository]` запустить образ
- Использовать `docker ps` для проверки того что образ запустился
- С помощью команды `docker inspect [container_id|container_name]` посмотреть информацию о контейнере
- По выводу команды определить и записать в отчет:
	- Размер контейнера
	- Список замапленных портов
	- ip контейнера
- Остановить контейнер с помощью `docker stop [container_id|container_name]`
- Использовать `docker ps` для проверки остановки контейнера
- Запустить докер с портами 80 и 443 в контейнере, замапленными на те же порты на локальной машине, использовать команду `run`
- Проверить доступность стартовой страницы в браузере через `localhost:80`
- С помощью `docker restart [container_id|container_name]` перезапустить контейнер
- Проверить запуск контейнера любым способом
- Добавить в отчет
	- Скриншоты использования команд и их вывода
	- Стартовой страницы nginx где видно адресную строку с адресом `localhost:80`

### Part 2. Операции с контейнером
- Используя команду `exec` прочитать конфигурационный файл nginx.conf внутри контейнера
- Создать `nginx.conf` на локальной машине
- Настроить в нем отдачу статуса сервера nginx по пути `/status`
- Скопировать файл с локальной машины внутрь образа через `docker cp`
- Через `exec` перезапустить nginx внутри образа
- Проверить что по адресу `localhost:80/status` отдается страница со статусом сервера nginx
- Экспортировать контейнер в файл container.tar с помощью команды export
- Остановить контейнер
- Удалить его
- Удалить образ через  `docker rmi [image_id|repository]`. Не удалять перед этим контейнеры
- Импортировать обратно через import и запустить контейнер
- Убедиться что `localhost:80/status` отдает статус сервера nginx
- Добавить в отчет
	- Скриншоты команд
	- Содержимое файла nginx.conf
	- Скриншоты веб-страниц

### Part 3. Мини веб-сервер

- С помощью C и FastCgi написать мини-сервер который будет возвращать страницу с надписью "Hello, World!"
- Запустить его через spawn-fcgi на порту 8080
- Написать nginx.conf. Он должен проксировать все запросы с порта 81 на 127.0.0.1:8080
- Локально запустить nginx с написанной конфигурацией
- Проверить что по `localhost:81` отдается написанная страница
- Разместить файл nginx.conf по пути `./nginx/nginx.conf`

### Part 4. Свой докер

**Избегать множественных вызовов команды RUN**

- Написать образ который
	- Собирает исходники сервера из части 3
	- Запускает его на 8080 порту
	- Копирует внутрь образа `./nginx/nginx.conf`
	- Запускает nginx

- Собрать образ с тегом и именем с помощью `docker build`
- Проверить успешность сборки через `docker images`
- Запустить его с маппингом 81 порта на 80 на локальной машине и папки ./nginx внутрь контейнера по адресу, где лежат конфигурационные файлы nginx'а
- Проверить что `localhost:80` отдается страница
- Дописать в `./nginx/nginx.conf` проксирование странички /status, по которой надо отдавать статус сервера nginx.
- Пересобрать образ
Если все сделано правильно, то после сохранения файла и перезапуска контейнера, конфигурационный файл внутри образа должен обновиться самостоятельно
- Проверить что по `localhost:80/status` отдается страница со статусом

### Part 5. Dockle

- Просканировать образ из прошлого задания с помощью `dockle [image_id|repository]`
- Исправить чтобы при проверке не было ошибок и предупреждений

### Part 6. Базовый Docker Compose

- Написать docker-compose который будет:
	- Поднимать контейнер из части 5 (не надо использовать EXPOSE тк он должен работать в локальной сети)
	- Поднимать контейнер с nginx. Он должен проксировать все запросы с 8080 порта на 81 порт первого контейнера

- Замапить 8080 порт второго контейнера на 80 локальной машины
- Остановить все запущенные контейнеры
- Использовать `docker compose build` и `docker compose up` для сборки и запуска проекта
- По адресу `localhost:80` должна отдаваться написанная страница из части 3 как и ранее
